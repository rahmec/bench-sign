\doxysection{/home/raximus/repos/work/speck/implementation/\+SPECK/repo/optimized/lib/sort.c File Reference}
\hypertarget{sort_8c}{}\label{sort_8c}\index{/home/raximus/repos/work/speck/implementation/SPECK/repo/optimized/lib/sort.c@{/home/raximus/repos/work/speck/implementation/SPECK/repo/optimized/lib/sort.c}}
{\ttfamily \#include $<$stdint.\+h$>$}\newline
{\ttfamily \#include $<$stdio.\+h$>$}\newline
{\ttfamily \#include $<$stdlib.\+h$>$}\newline
{\ttfamily \#include $<$string.\+h$>$}\newline
{\ttfamily \#include "{}parameters.\+h"{}}\newline
{\ttfamily \#include "{}utils.\+h"{}}\newline
{\ttfamily \#include "{}fq\+\_\+arith.\+h"{}}\newline
{\ttfamily \#include "{}codes.\+h"{}}\newline
Include dependency graph for sort.\+c\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sort_8c__incl}
\end{center}
\end{figure}
\doxysubsubsection*{Macros}
\begin{DoxyCompactItemize}
\item 
\#define \mbox{\hyperlink{sort_8c_ad2f3678bf5eae3684fc497130b946eae}{MIN}}(X,  Y)
\end{DoxyCompactItemize}
\doxysubsubsection*{Functions}
\begin{DoxyCompactItemize}
\item 
void \mbox{\hyperlink{sort_8c_ab052732a46896194ffc34941566d9924}{counting\+\_\+sort\+\_\+u8}} (\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}arr, const uint32\+\_\+t size)
\item 
int \mbox{\hyperlink{sort_8c_abd977e5d4990abfaea1a1434efc43fb6}{compare\+\_\+rows}} (const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}row1, const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}row2)
\item 
void \mbox{\hyperlink{sort_8c_a4694c3a3f21c9c1f8f32e510621f3cc4}{counting\+\_\+sort\+\_\+perm}} (\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}arr, const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}to\+\_\+order, const uint32\+\_\+t size, \mbox{\hyperlink{structpermutation__t}{permutation\+\_\+t}} \texorpdfstring{$\ast$}{*}perm)
\item 
void \mbox{\hyperlink{sort_8c_a80b159d6391a446eb45154edfa499554}{counting\+\_\+sort}} (\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}arr, const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}to\+\_\+order, const uint32\+\_\+t size)
\item 
void \mbox{\hyperlink{sort_8c_a1ad95f8ba17695bc317523ede47eba08}{histogram}} (\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}mset, const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}to\+\_\+order, const uint32\+\_\+t size)
\item 
void \mbox{\hyperlink{sort_8c_aae75919ad0ed4709c042ca849b632d93}{histogram\+\_\+c1\+\_\+c2}} (\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}mset, const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}c1, const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}c2, const uint32\+\_\+t size)
\end{DoxyCompactItemize}


\label{doc-define-members}
\Hypertarget{sort_8c_doc-define-members}
\doxysubsection{Macro Definition Documentation}
\Hypertarget{sort_8c_ad2f3678bf5eae3684fc497130b946eae}\index{sort.c@{sort.c}!MIN@{MIN}}
\index{MIN@{MIN}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{MIN}{MIN}}
{\footnotesize\ttfamily \label{sort_8c_ad2f3678bf5eae3684fc497130b946eae} 
\#define MIN(\begin{DoxyParamCaption}\item[{}]{X}{, }\item[{}]{Y}{}\end{DoxyParamCaption})}

{\bfseries Value\+:}
\begin{DoxyCode}{0}
\DoxyCodeLine{(((X)\ <\ (Y))\ ?\ (X)\ :\ (Y))}

\end{DoxyCode}
THIS SOFTWARE IS PROVIDED BY THE AUTHORS \textquotesingle{}\textquotesingle{}AS IS\textquotesingle{}\textquotesingle{} AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE AUTHORS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE. 

\label{doc-func-members}
\Hypertarget{sort_8c_doc-func-members}
\doxysubsection{Function Documentation}
\Hypertarget{sort_8c_abd977e5d4990abfaea1a1434efc43fb6}\index{sort.c@{sort.c}!compare\_rows@{compare\_rows}}
\index{compare\_rows@{compare\_rows}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{compare\_rows()}{compare\_rows()}}
{\footnotesize\ttfamily \label{sort_8c_abd977e5d4990abfaea1a1434efc43fb6} 
int compare\+\_\+rows (\begin{DoxyParamCaption}\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{row1}{, }\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{row2}{}\end{DoxyParamCaption})}

NOTE\+: only needed for {\ttfamily compute\+\_\+canonical\+\_\+form\+\_\+type4\+\_\+sub} \textbackslash{}input row1\mbox{[}in\mbox{]}\+: \textbackslash{}input row2\mbox{[}in\mbox{]}\+: \begin{DoxyReturn}{Returns}
\+: 0 if multiset(row1) == multiset(row2) x if row1 \texorpdfstring{$>$}{>} row2 -\/x if row1 \texorpdfstring{$<$}{<} row2 
\end{DoxyReturn}
Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=297pt]{sort_8c_abd977e5d4990abfaea1a1434efc43fb6_icgraph}
\end{center}
\end{figure}
\Hypertarget{sort_8c_a80b159d6391a446eb45154edfa499554}\index{sort.c@{sort.c}!counting\_sort@{counting\_sort}}
\index{counting\_sort@{counting\_sort}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{counting\_sort()}{counting\_sort()}}
{\footnotesize\ttfamily \label{sort_8c_a80b159d6391a446eb45154edfa499554} 
void counting\+\_\+sort (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{to\+\_\+order}{, }\item[{const uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})}

NOTE\+: specialised counting sort for Fq. Thus, this implementation assumes that every input element is reduced mod 127 
\begin{DoxyParams}{Parameters}
{\em arr\mbox{[}in/out\mbox{]}} & input array \\
\hline
{\em size\mbox{[}in\mbox{]}} & length of the input array \\
\hline
\end{DoxyParams}
NOTE\+: the type {\ttfamily uint32\+\_\+t} is not completly arbitrary choosen. Floyd did a quick benchmark between {\ttfamily uint16\+\_\+t}, {\ttfamily uint32\+\_\+t}, {\ttfamily uint64\+\_\+t} and {\ttfamily uint32\+\_\+t} seemed to be the fastest. But thats only true on a Ryzen7600X. On your machine thats maybe different. NOTE\+: {\ttfamily uint8\+\_\+t} is not possible as there could be 256 times the same field element. Unlikely but possible.

compute the histogram

compute the prefixsum\Hypertarget{sort_8c_a4694c3a3f21c9c1f8f32e510621f3cc4}\index{sort.c@{sort.c}!counting\_sort\_perm@{counting\_sort\_perm}}
\index{counting\_sort\_perm@{counting\_sort\_perm}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{counting\_sort\_perm()}{counting\_sort\_perm()}}
{\footnotesize\ttfamily \label{sort_8c_a4694c3a3f21c9c1f8f32e510621f3cc4} 
void counting\+\_\+sort\+\_\+perm (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{to\+\_\+order}{, }\item[{const uint32\+\_\+t}]{size}{, }\item[{\mbox{\hyperlink{structpermutation__t}{permutation\+\_\+t}} \texorpdfstring{$\ast$}{*}}]{perm}{}\end{DoxyParamCaption})}

NOTE\+: specialised counting sort for Fq. Thus, this implementation assumes that every input element is reduced mod 127 
\begin{DoxyParams}{Parameters}
{\em arr\mbox{[}in/out\mbox{]}} & input array \\
\hline
{\em size\mbox{[}in\mbox{]}} & length of the input array \\
\hline
\end{DoxyParams}
NOTE\+: the type {\ttfamily uint32\+\_\+t} is not completly arbitrary choosen. Floyd did a quick benchmark between {\ttfamily uint16\+\_\+t}, {\ttfamily uint32\+\_\+t}, {\ttfamily uint64\+\_\+t} and {\ttfamily uint32\+\_\+t} seemed to be the fastest. But thats only true on a Ryzen7600X. On your machine thats maybe different. NOTE\+: {\ttfamily uint8\+\_\+t} is not possible as there could be 256 times the same field element. Unlikely but possible.

compute the histogram

compute the prefixsumHere is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=285pt]{sort_8c_a4694c3a3f21c9c1f8f32e510621f3cc4_icgraph}
\end{center}
\end{figure}
\Hypertarget{sort_8c_ab052732a46896194ffc34941566d9924}\index{sort.c@{sort.c}!counting\_sort\_u8@{counting\_sort\_u8}}
\index{counting\_sort\_u8@{counting\_sort\_u8}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{counting\_sort\_u8()}{counting\_sort\_u8()}}
{\footnotesize\ttfamily \label{sort_8c_ab052732a46896194ffc34941566d9924} 
void counting\+\_\+sort\+\_\+u8 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{arr}{, }\item[{const uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})}

NOTE\+: specialised counting sort for Fq. Thus, this implementation assumes that every input element is reduced mod 127 
\begin{DoxyParams}{Parameters}
{\em arr\mbox{[}in/out\mbox{]}} & input array \\
\hline
{\em size\mbox{[}in\mbox{]}} & length of the input array \\
\hline
\end{DoxyParams}
NOTE\+: the type {\ttfamily uint32\+\_\+t} is not completly arbitrary choosen. Floyd did a quick benchmark between {\ttfamily uint16\+\_\+t}, {\ttfamily uint32\+\_\+t}, {\ttfamily uint64\+\_\+t} and {\ttfamily uint32\+\_\+t} seemed to be the fastest. But thats only true on a Ryzen7600X. On your machine thats maybe different. NOTE\+: {\ttfamily uint8\+\_\+t} is not possible as there could be 256 times the same field element. Unlikely but possible.

compute the histogram

compute the prefixsumHere is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sort_8c_ab052732a46896194ffc34941566d9924_icgraph}
\end{center}
\end{figure}
\Hypertarget{sort_8c_a1ad95f8ba17695bc317523ede47eba08}\index{sort.c@{sort.c}!histogram@{histogram}}
\index{histogram@{histogram}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{histogram()}{histogram()}}
{\footnotesize\ttfamily \label{sort_8c_a1ad95f8ba17695bc317523ede47eba08} 
void histogram (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{mset}{, }\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{to\+\_\+order}{, }\item[{const uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sort_8c_a1ad95f8ba17695bc317523ede47eba08_icgraph}
\end{center}
\end{figure}
\Hypertarget{sort_8c_aae75919ad0ed4709c042ca849b632d93}\index{sort.c@{sort.c}!histogram\_c1\_c2@{histogram\_c1\_c2}}
\index{histogram\_c1\_c2@{histogram\_c1\_c2}!sort.c@{sort.c}}
\doxysubsubsection{\texorpdfstring{histogram\_c1\_c2()}{histogram\_c1\_c2()}}
{\footnotesize\ttfamily \label{sort_8c_aae75919ad0ed4709c042ca849b632d93} 
void histogram\+\_\+c1\+\_\+c2 (\begin{DoxyParamCaption}\item[{\mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{mset}{, }\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{c1}{, }\item[{const \mbox{\hyperlink{parameters_8h_a4cbaabe2c5bbfe1af49952e6e3140b25}{FQ\+\_\+\+ELEM}} \texorpdfstring{$\ast$}{*}}]{c2}{, }\item[{const uint32\+\_\+t}]{size}{}\end{DoxyParamCaption})}

Here is the caller graph for this function\+:
\nopagebreak
\begin{figure}[H]
\begin{center}
\leavevmode
\includegraphics[width=350pt]{sort_8c_aae75919ad0ed4709c042ca849b632d93_icgraph}
\end{center}
\end{figure}
